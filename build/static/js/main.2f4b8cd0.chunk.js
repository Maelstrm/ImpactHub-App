(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5514:function(e,t,a){e.exports=a(5859)},5679:function(e,t,a){},5839:function(e,t,a){},5856:function(e,t,a){},5859:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),i=a.n(o),s=a(48),l=a(32),c=a(246),u=(a(5523),{FETCH_USER:"FETCH_USER",SET_USER:"SET_USER_ACTION",UNSET_USER:"UNSET_USER_ACTION",REQUEST_START:"REQUEST_START_USER_ACTION",REQUEST_DONE:"REQUEST_DONE_USER_ACTION",LOGOUT:"LOGOUT",USER_FETCH_FAILED:"USER_FETCH_FAILED"}),m=Object(s.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_USER:return t.user.id||e;case u.UNSET_USER:return null;default:return e}},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_USER:return t.user.username||e;case u.UNSET_USER:return null;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case u.REQUEST_START:return!0;case u.REQUEST_DONE:return!1;default:return e}}}),d={LOGIN:"LOGIN",CLEAR_LOGIN_ERROR:"CLEAR_LOGIN_ERROR",REQUEST_START:"REQUEST_START",LOGIN_REQUEST_DONE:"LOGIN_REQUEST_DONE",LOGIN_FAILED:"LOGIN_FAILED",LOGIN_FAILED_NO_CODE:"LOGIN_FAILED_NO_CODE",INPUT_ERROR:"INPUT_ERROR",LOGOUT:"LOGOUT"},p=function(e,t){return{type:d.LOGIN,payload:{username:e,password:t}}},h=function(){return{type:d.LOGOUT}};var g=Object(s.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case d.REQUEST_START:return!0;case d.REQUEST_DONE:return!1;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.CLEAR_LOGIN_ERROR:return"";case d.LOGIN_FAILED:return"Ooops! The username and password didn't match. Try again!";case d.LOGIN_FAILED_NO_CODE:return"Ooops! Something went wrong! Is the server running?";case d.INPUT_ERROR:return t.payload;default:return e}}}),b=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_MEMBERLIST":return e.payload;default:return null}},f=Object(s.c)({user:m,login:g,members:b}),E=a(5861),v=a(5864),y=a(5862),C=a(5863),O=a(18),w=a(7),T=a(8),k=a(10),S=a(9),x=a(11),j=a(5860),N=a(15),_=a(12),M=a.n(_),R=a(31),D=a.n(R),I=a(41),B=a.n(I),A=a(79),V=a.n(A),L=a(83),P=a.n(L),H=a(80),F=a.n(H),U=a(81),G=a.n(U),W=a(49),z=a.n(W),Y=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.sendEmailAddress=function(e){e.preventDefault(),console.log("email submitted"),M.a.get("/api/password/"+a.state.email).then(function(e){console.log("response finding email:",e),a.handleClose(),z()("Password Reset Email Sent",{icon:"success"})}).catch(function(e){e.status,z()("Email Address Not Found",{icon:"warning"}),console.log("error finding email in database:",e)}),a.handleClose()},a.state={open:!1,email:""},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:this.handleClickOpen},"forgot password?"),r.a.createElement(V.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(F.a,null,r.a.createElement(G.a,null,"Enter your email address we will send you a link to reset your password."),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"email",name:"email",label:"Email Address",type:"email",fullWidth:!0,onChange:this.handleInputChangeFor("email")})),r.a.createElement(P.a,null,r.a.createElement(D.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(D.a,{onClick:this.sendEmailAddress,color:"primary"},"Send"))))}}]),t}(n.Component),Q=Object(l.b)(function(e){return{user:e.user}})(Y),J=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).login=function(e){e.preventDefault(),""===a.state.username||""===a.state.password?a.props.dispatch({type:d.INPUT_ERROR,payload:"Enter your username and password!"}):a.props.dispatch(p(a.state.username,a.state.password))},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a.state={username:"",password:"",showPassword:!1},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER}),this.props.dispatch({type:d.CLEAR_LOGIN_ERROR})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null===this.props.user.userName||this.props.history.push("admin")}},{key:"renderAlert",value:function(){return""!==this.props.login.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.props.login.message):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,this.renderAlert(),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("h1",null,"Login"),r.a.createElement(N.c,{container:!0},r.a.createElement(N.c,{item:!0,xs:12},r.a.createElement(N.b,{style:{width:"80%",marginBottom:"10px"}},r.a.createElement(N.d,{name:"username",value:this.state.username,onChange:this.handleInputChangeFor("username"),placeholder:"Email Address",inputProps:{"aria-label":"username"},fullwidth:!0})),r.a.createElement("br",null),r.a.createElement(N.b,{style:{width:"80%"}},r.a.createElement(N.d,{fullWidth:!0,id:"password",placeholder:"Password",type:this.state.showPassword?"text":"password",value:this.state.password,onChange:this.handleInputChangeFor("password"),inputProps:{"aria-label":"Password"}}))),r.a.createElement(N.c,{item:!0,xs:12},r.a.createElement(N.a,{size:"small",variant:"contained",type:"submit",name:"submit",color:"primary",style:{margin:"20px"}},"Log In"),r.a.createElement(j.a,{to:"/register"},"Register"),r.a.createElement(N.c,{item:!0,xs:12}))),r.a.createElement(Q,null))))}}]),t}(n.Component),q=Object(l.b)(function(e){return{user:e.user,login:e.login}})(J),K=a(28),X=a.n(K),Z=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).registerUser=function(e){if(""===a.state.username||""===a.state.password)a.setState({message:"Choose a username and password!"});else{var t={username:a.state.username,password:a.state.password};M.a.post("/api/user/register/",t).then(function(e){201===e.status?a.props.history.push("/home"):a.setState({message:"Ooops! That didn't work. The username might already be taken. Try again!"})}).catch(function(){a.setState({message:"Ooops! Something went wrong! Is the server running?"})})}},a.handleInputChangeFor=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.state={username:"",password:"",message:""},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"renderAlert",value:function(){return""!==this.state.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.state.message):r.a.createElement("span",null)}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAlert(),r.a.createElement(X.a,{style:{width:"30%",height:"250px",margin:"20px auto",marginTop:"10%",padding:"25px",borderRadius:"2px",alignContent:"right"}},r.a.createElement(N.e,{variant:"h3"},"Register User"),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement(B.a,{type:"text",name:"username",value:this.state.username,label:"Username",fullWidth:!0,onChange:this.handleInputChangeFor("username")})),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement(B.a,{type:"password",name:"password",label:"Password",fullWidth:!0,value:this.state.password,onChange:this.handleInputChangeFor("password")})),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement(D.a,{onClick:this.registerUser,value:"Register"},"Register"),r.a.createElement(D.a,null,r.a.createElement(j.a,{to:"/home"},"Cancel")))))}}]),t}(n.Component),$=a(84),ee=a.n($),te=a(85),ae=a.n(te),ne=a(40),re=a.n(ne),oe=a(66),ie=a.n(oe),se=a(102),le=a.n(se),ce=a(30),ue=a(132),me=a.n(ue),de=a(129),pe=a.n(de),he=a(130),ge=a.n(he),be=a(131),fe=a.n(be),Ee=a(65),ve=a.n(Ee),ye=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,mobileMoreAnchorEl:null},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=this.props.classes,o=Boolean(t),i=Boolean(a),s=r.a.createElement(le.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:this.handleMenuClose},r.a.createElement(ie.a,{onClick:this.handleClose},"Profile"),r.a.createElement(ie.a,{onClick:this.handleClose},"My account")),l=r.a.createElement(le.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.handleMobileMenuClose},r.a.createElement(ie.a,null,r.a.createElement(re.a,{color:"inherit",onClick:this.props.admin},"Admin")),r.a.createElement(ie.a,null,r.a.createElement(re.a,{color:"inherit",onClick:this.props.checkin},"Checkin")),r.a.createElement(ie.a,null,r.a.createElement(re.a,{color:"inherit",onClick:this.props.logout},"Logout")));return r.a.createElement("div",{className:n.root},r.a.createElement(ee.a,{className:n.AppBar,position:"static"},r.a.createElement(ae.a,{variant:"dense"},r.a.createElement("div",{className:n.grow}),r.a.createElement("div",{className:n.sectionDesktop},r.a.createElement(ve.a,{title:"Admin Page"},r.a.createElement(re.a,{className:n.navLink,color:"inherit",onClick:this.props.admin},r.a.createElement(pe.a,null))),r.a.createElement(ve.a,{title:"Check-in Page"},r.a.createElement(re.a,{className:n.navLink,color:"inherit",onClick:this.props.checkin},r.a.createElement(ge.a,null))),r.a.createElement(ve.a,{title:"Log Out"},r.a.createElement(re.a,{className:n.navLink,color:"inherit",onClick:this.props.logout},r.a.createElement(fe.a,null)))),r.a.createElement("div",{className:n.sectionMobile},r.a.createElement(re.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},r.a.createElement(me.a,null))))),s,l)}}]),t}(r.a.Component),Ce=Object(ce.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit",width:"100%"},inputInput:Object(O.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(O.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})(ye),Oe=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).logout=function(){a.props.dispatch(h()),console.log("logout function")},a.pushToAdmin=function(){a.props.history.push("/admin")},a.pushToCheckin=function(){a.props.history.push("/checkin"),window.location.reload()},console.log("HERE"),a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement(Ce,{logout:this.logout,admin:this.pushToAdmin,checkin:this.pushToCheckin})}}]),t}(n.Component),we=Object(l.b)(function(e){return{user:e.user}})(Oe),Te=(a(5679),a(47)),ke=a.n(Te),Se=a(46),xe=a.n(Se),je=a(87),Ne=a.n(je),_e=a(54),Me=a.n(_e),Re=a(52),De=a.n(Re),Ie=ke.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3}),Be=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).setGroupDetailsFromInput=function(t){console.log("In setGroupDetailsFromInput function"),e.setState(Object(O.a)({},t.target.name,t.target.value))},e.setGroupDetailsFromButton=function(t){console.log("In setGroupDetailsFromButton function"),e.setState(Object(O.a)({},t.target.name,t.target.value))},e.sendGroupToDatabase=function(t){t.preventDefault(),M()({method:"POST",url:"/api/visi/group",data:e.state}).then(function(t){Ie.fire({type:"success",title:"Signed in Successfully"}),console.log("Group visit successfully added to database",t),e.setState({name:"",purpose:"",quantity:""})}).catch(function(e){console.log("an error has occurred while trying to send group visit data to the database",e),Ie.fire({type:"error",title:"Sign in Unsuccessful"})})},e.handleBTNclick=function(t,a){e.setState({purpose:a}),console.log(e.state)},e.depressPurposeBTN=function(){},e.state={name:"",purpose:"",quantity:""},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state.purpose;return r.a.createElement("div",{className:"viewContainer",style:{width:"22vw"}},r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},r.a.createElement(N.e,{variant:"h5"}," Group Check-in")),r.a.createElement("hr",{style:{marginTop:"15px",marginBottom:"25px"}}),r.a.createElement(N.e,null,"Group Name",r.a.createElement("br",null),"*optional"),r.a.createElement(B.a,{className:"groupInput",name:"name",placeholder:"e.g. Jr. Innovators League",style:{width:"180px"},onChange:this.setGroupDetailsFromInput}),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement(Me.a,null),r.a.createElement(N.e,null,"Reason for Visiting")),r.a.createElement(Ne.a,{value:e,exclusive:!0,onChange:this.handleBTNclick,style:{padding:0}},r.a.createElement(xe.a,{value:"tour"},"Tour"),r.a.createElement(xe.a,{value:"event"},"Event"),r.a.createElement(xe.a,{value:"memberVisit"},"Visit Member"),r.a.createElement(xe.a,{value:"other"},"Other")),r.a.createElement(Me.a,null),r.a.createElement("br",null),r.a.createElement(N.e,null,"Number of People in the Group "),r.a.createElement(De.a,{className:"groupInput",name:"quantity",type:"number",placeholder:"e.g. 10",style:{width:"50px"},onChange:this.setGroupDetailsFromInput}),r.a.createElement("div",{style:{padding:"15px"}},r.a.createElement(D.a,{variant:"contained",color:"primary",type:"submit",value:"Submit",onClick:this.sendGroupToDatabase},"Submit")))}}]),t}(n.Component),Ae=a(55),Ve=a.n(Ae),Le=a(86),Pe=a.n(Le),He=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement(Pe.a,{className:"contactRow"},r.a.createElement(Ve.a,null,this.props.contact.name),r.a.createElement(Ve.a,null,this.props.contact.email),r.a.createElement(Ve.a,null,this.props.contact.phone))}}]),t}(n.Component),Fe=a(133),Ue=a.n(Fe),Ge=a(135),We=a.n(Ge),ze=a(134),Ye=a.n(ze),Qe=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getNewInfo=function(){M()({method:"GET",url:"/api/visi"}).then(function(t){console.log(t.data),e.setState({newContacts:t.data})}).catch(function(e){console.log(e,"Error getting new contacts"),alert("New Contacts could't be obtained")})},e.state={newContacts:[]},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getNewInfo()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"viewContainer"},r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},r.a.createElement(N.e,{variant:"h5"},"Visitors Seeking More Info")),r.a.createElement("hr",{style:{marginTop:"15px"}}),r.a.createElement(Ue.a,null,r.a.createElement(Ye.a,null,r.a.createElement(Pe.a,null,r.a.createElement(Ve.a,null,"Name"),r.a.createElement(Ve.a,null,"Email"),r.a.createElement(Ve.a,null,"Phone Number"))),r.a.createElement(We.a,null,this.state.newContacts.map(function(e,t){return r.a.createElement(He,{key:t,contact:e})})))))}}]),t}(n.Component),Je=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getVisitorsThisMonth=function(){console.log("in getVisitsThisMonth"),M()({method:"GET",url:"/api/admin/visitsThisMonth"}).then(function(t){console.log(t.data.sum),e.setState({visitsThisMonth:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting visits this month",e),alert("Error getting visits this month")})},e.getVisitsThisYear=function(){console.log("in getVisitsThisYear"),M()({method:"GET",url:"/api/admin/visitsThisYear"}).then(function(t){console.log(t.data.sum),e.setState({visitsThisYear:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting visits this year",e),alert("Error getting visits this year")})},e.getVisitsLastMonth=function(){console.log("in getVisitsLastMonth"),M()({method:"GET",url:"/api/admin/visitsLastMonth"}).then(function(t){console.log(t.data.sum),e.setState({visitsLastMonth:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting visits last month",e),alert("Error getting visits last month")})},e.getVisitsThisMonth=function(){console.log("in getVisitsThisMonth"),M()({method:"GET",url:"/api/admin/visitsThisMonth"}).then(function(t){console.log(t.data.sum),e.setState({visitsThisMonth:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting visits this month",e),alert("Error getting visits this month")})},e.getAveVisitsPerDayThisTear=function(){console.log("in getAveVisitsPerDayThisYear"),M()({method:"GET",url:"/api/admin/AveVisitsPerDayThisYear"}).then(function(t){console.log(t.data.sum),e.setState({aveVisitsPerDayYear:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting ave visits per day this year",e),alert("Error getting ave visits per day this year")})},e.getAveVisitsPerDayThisMonth=function(){console.log("in getVisitsLastMonth"),M()({method:"GET",url:"/api/admin/aveVisitsPerDayThisMonth"}).then(function(t){console.log(t.data.sum),e.setState({aveVisitsPerDayMonth:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting ave visits per day last month",e),alert("Error getting ave visits per day last month")})},e.getAveVisitsPerDayLastYear=function(){console.log("in getVisitsLastMonth"),M()({method:"GET",url:"/api/admin/aveVisitsPerDayLastYear"}).then(function(t){console.log(t.data.sum),e.setState({aveVisitsPerDayLastYear:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting ave visits per day last year",e),alert("Error getting average visits per day last year")})},e.state={visitsThisYear:"9,852",visitsLastMonth:"1,125",visitsThisMonth:"1,002",aveVisitsPerDayYear:"45",aveVisitsPerDayMonth:"55",aveVisitsPerDayLastYear:"38"},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getVisitorsThisMonth(),this.getVisitsThisYear(),this.getVisitsLastMonth()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"dashboardContainer"},r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},r.a.createElement(N.e,{variant:"h5"},"Visitor Insights")),r.a.createElement("hr",{style:{marginTop:"15px",marginBottom:"10px"}}),r.a.createElement("div",{id:"visitorsThisMonth",className:"kpidiv"},r.a.createElement(N.e,{variant:"h6"},"Total Visits This Year"),r.a.createElement("h4",null,this.state.visitsThisYear)),r.a.createElement("div",{id:"visitorsThisMonth",className:"kpidiv"},r.a.createElement(N.e,{variant:"h6"},"Total Visits Last Month"),r.a.createElement("h4",null,this.state.visitsLastMonth)),r.a.createElement("div",{id:"visitorsThisMonth",className:"kpidiv"},r.a.createElement(N.e,{variant:"h6"},"Total Visits This Month"),r.a.createElement("h4",null,this.state.visitsThisMonth)),r.a.createElement("div",null,r.a.createElement(N.e,{variant:"h6"},"Average Visits Per Day"),r.a.createElement("h4",null,"This Year: ",this.state.aveVisitsPerDayYear),r.a.createElement("h4",null,"This This Month: ",this.state.aveVisitsPerDayMonth),r.a.createElement("h4",null,"Last Year: ",this.state.aveVisitsPerDayLastYear))))}}]),t}(n.Component),qe=a(42),Ke=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getCurrentMembers=function(){console.log("in getCurrentMembers"),M()({method:"GET",url:"/api/admin/currentMemberCount"}).then(function(t){console.log(t.data),e.setState({currentMembers:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting current members"),alert("Current members could't be obtained")})},e.getTodaysVisitors=function(){console.log("in getTodaysVisitors"),M()({method:"GET",url:"/api/admin/todayGuestCount"}).then(function(t){console.log(t.data.sum),e.setState({currentVisitors:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting today's visitors"),alert("Today's visitors could not be obtained")})},e.state={currentVisitors:null,currentMembers:null},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentMembers(),this.getTodaysVisitors()}},{key:"render",value:function(){var e={labels:["Visitors","Members"],datasets:[{data:[this.state.currentVisitors,this.state.currentMembers],backgroundColor:["#ffab91","#b2dfdb"],hoverBackgroundColor:["#ffab91","#b2dfdb"]}]},t=this.state.currentMembers;return r.a.createElement("div",{className:"viewContainer"},t&&r.a.createElement(qe.c,{options:{title:{display:!0,text:"Current Guests",fontSize:18}},data:e}),r.a.createElement(N.e,null,this.state.currentVisitors+this.state.currentMembers," current guests")," ")}}]),t}(n.Component),Xe=a(26),Ze=a.n(Xe),$e=a(144),et=a(53),tt=a.n(et),at=a(39),nt=a.n(at),rt=a(56),ot=a.n(rt),it=a(72),st=a.n(it),lt=a(61),ct=a.n(lt),ut=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).handleChange=function(t){return function(){var a=Object($e.a)(Ze.a.mark(function a(n){var r;return Ze.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState((r={},Object(O.a)(r,t,n),Object(O.a)(r,"day",ot()().format("L")),Object(O.a)(r,"time",ot()().format("LTS")),r));case 2:null===e.state.single||""===e.state.single?e.resetForm():e.checkStatus(e.state.single.value);case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},e.state={single:"",purpose:null,day:null,time:null,checked_in:!0,membersCheckedIn:[]},e.baseState=e.state,e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_MEMBERS"}),this.getCheckedIn()}},{key:"getCheckedIn",value:function(){var e=this;M.a.get("/api/memb/townhall").then(function(t){console.log(t.data),e.setState({membersCheckedIn:t.data})}).catch(function(e){console.log("error",e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"viewContainer"},r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},r.a.createElement(N.e,{variant:"h5"},"Town Hall")),r.a.createElement("hr",{style:{marginTop:"15px",marginBottom:"10px"}}),r.a.createElement(tt.a,{component:"nav",id:"townHallContainer"},this.state.membersCheckedIn.map(function(e,t){return r.a.createElement(X.a,{key:t,className:"paperCards"},r.a.createElement(nt.a,null,r.a.createElement(st.a,{style:{width:"60px",height:"60px"}},r.a.createElement("img",{className:"avatar",src:e.img_url,alt:"profile"})),r.a.createElement(ct.a,{primary:e.name,secondary:e.company})))}))))}}]),t}(n.Component),mt=Object(l.b)()(ut),dt=a(239),pt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getVisitData=function(){console.log("in getVisitDataForCSV"),M()({method:"GET",url:"/api/admin/allCheckInData"}).then(function(t){console.log(t.data),e.setState({csvData:[t.data]})}).catch(function(e){console.log(e,"Error getting visit data",e),alert("Error getting visit data")})},e.state={csvData:[]},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getVisitData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"viewContainer"},r.a.createElement(D.a,null," ",r.a.createElement(dt.CSVLink,{data:this.state.csvData,filename:"visitorData.csv"},"Download Data CSV")))}}]),t}(n.Component),ht=a(6),gt=a.n(ht),bt=(a(5839),a(249)),ft=a(240),Et=a.n(ft),vt=a(82),yt=a.n(vt);function Ct(e){var t=e.inputRef,a=Object(bt.a)(e,["inputRef"]);return r.a.createElement(Et.a,Object.assign({},a,{ref:t,mask:["1","(",/\d/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],placeholderChar:"\u2000",showMask:!0}))}var Ot=ke.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3}),wt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).componentDidMount=function(){e.getTwilioSettings()},e.getTwilioSettings=function(){console.log("getting /getTwilioSettings"),M()({method:"get",url:"api/message/getTwilioSettings"}).then(function(t){e.setState({currentTwilioSetting:t.data[0]})}).then(function(){switch(e.state.currentTwilioSetting){case void 0:e.setState({loggedIn:!1});break;default:e.setState({loggedIn:!0})}}).catch(function(e){console.log(e,"getTwilioSettings didnt work")})},e.displayCurrentReciever=function(){switch(e.state.loggedIn){case!0:return r.a.createElement("div",null,"Current Twilio Setting: ",r.a.createElement("br",null),e.state.currentTwilioSetting.admin_name+" - "+e.state.currentTwilioSetting.phone_number,r.a.createElement("button",{onClick:e.clearTwilio},"Reset"));default:return r.a.createElement("div",null,r.a.createElement(N.e,{variant:"h5"},"Set the Call Bell"))}},e.changeAdminTwilio=function(){console.log("setting Twillio");var t={admin_name:e.state.newTwilioSetting.admin_name,phone_number:e.state.newTwilioSetting.phone_number};void 0===t.admin_name||void 0===t.phone_number?Ot.fire({type:"error",title:"Invalid Entry",text:"Please enter a name and phone number."}):M()({method:"post",url:"api/message/changeAdminTwilio",data:t}).then(function(e){console.log(e)}).then(function(){Ot.fire({text:"Admin Changed",type:"success"}),e.getTwilioSettings()}).catch(function(e){console.log(e,"sendNewTwilio didnt work"),Ot.fire({type:"error",title:"Server Error"})})},e.clearTwilio=function(){e.clearTwilioAxios(),e.clearTwilioState(),Ot.fire({text:"Admin Cleared",type:"success"})},e.clearTwilioAxios=function(){M()({method:"delete",url:"api/message/clearTwilio"}).catch(function(e){console.log(e,"clearTwilio didnt work")})},e.clearTwilioState=function(){e.setState({admin_name:"",loggedIn:!1})},e.handlePhoneNumberChange=function(t){e.setState({newTwilioSetting:{admin_name:e.state.newTwilioSetting.admin_name,phone_number:t.target.value}})},e.handleAdminNameChange=function(t){e.setState({newTwilioSetting:{admin_name:t.target.value,phone_number:e.state.newTwilioSetting.phoneNumber}})},e.state={currentTwilioSetting:{},newTwilioSetting:{},loggedIn:!1},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"viewContainer",style:{width:"22vw"}},r.a.createElement("div",{style:{marginBottom:"20px",marginTop:"10px"}},this.displayCurrentReciever()),r.a.createElement("hr",{style:{marginTop:"15px",marginBottom:"25px"}}),"Set Admin",r.a.createElement("br",null),r.a.createElement("div",{style:{margin:"50px 20px 40px 20px"}},r.a.createElement(yt.a,{htmlFor:"Name"},"Name: "),r.a.createElement(De.a,{type:"tel",onChange:this.handleAdminNameChange,defaultValue:this.state.newTwilioSetting.admin_name})),r.a.createElement("div",{style:{margin:"20px 20px 40px 20px"}},r.a.createElement(yt.a,{htmlFor:"Phone"},"Phone: "),r.a.createElement(De.a,{onChange:this.handlePhoneNumberChange,defaultValue:this.state.newTwilioSetting.phone_number,inputComponent:Ct,label:"Phone"})),r.a.createElement(Me.a,null),r.a.createElement("div",{style:{margin:"20px"}},r.a.createElement(D.a,{color:"primary",variant:"contained",onClick:this.changeAdminTwilio},"Submit")))}}]),t}(n.Component),Tt=a(71),kt=a.n(Tt),St=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getTotalVisitors=function(){console.log("in getTotalVisitors"),M()({method:"GET",url:"/api/admin/totalVisitors"}).then(function(t){console.log(t.data),e.setState({totalVisitors:Number(t.data[0].sum)})}).catch(function(e){console.log(e,"Error getting total visitors"),alert("Total visitors could't be obtained")})},e.getInterestedVisitor=function(){console.log("in getInterestedVisitor"),M()({method:"GET",url:"/api/admin/visitorsInterestedInMoreInfo"}).then(function(t){console.log(t.data),e.setState({visitorsAddInfo:Number(t.data[0].count)})}).catch(function(e){console.log(e,"Error getting number of visitors interested in additional info")})},e.state={visitorsAddInfo:null,totalVisitors:null},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getInterestedVisitor(),this.getTotalVisitors()}},{key:"render",value:function(){var e={labels:["Wanted Additional Info","Declined Additional Info"],datasets:[{data:[this.state.visitorsAddInfo,this.state.totalVisitors-this.state.visitorsAddInfo],backgroundColor:["#a5d6a7","#78909c"],hoverBackgroundColor:["#a5d6a7","#78909c"]}]};return r.a.createElement("div",{className:"viewContainer"},r.a.createElement(qe.c,{data:e,options:{title:{display:!0,text:"Visitor Interest",fontSize:18}}}),r.a.createElement(N.e,null,this.state.totalVisitors," total visitors")," ",r.a.createElement(N.e,null,(this.state.visitorsAddInfo/this.state.totalVisitors*100).toFixed(2),"% of visitors are interested in more information")," ")}}]),t}(n.Component),xt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getVisitsEachHourToday=function(){console.log("in getVisitsEachHourToday"),M()({method:"GET",url:"/api/admin/visitsEachHourToday"}).then(function(t){console.log(t.data),e.setState({memberVisitToday:t.data})}).catch(function(e){console.log(e,"Error getting visits today",e),alert("Error getting visits today")})},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.state={graphToShow:"today",memberVisitToday:[3,4,10,10,7,12,25],visitorVisitToday:[0,0,4,5,7,8,10],memberVisitThisWeek:[25,30,31,33],visitorVisitThisWeek:[6,12,10,11],memberVisitThisMonth:[25,23,25,39,19,0,0,20,34,32,33,35,0,0,23,32,39,34,40,0,0,34,45,44,45],visitorVisitThisMonth:[6,12,10,8,0,0,0,2,12,13,10,9,0,0,9,3,12,5,9,0,0,15,17,23],memberVisitByMonth:[65,59,60,56,56,55,40,50,45,65],visitorVisitByMonth:[29,49,55,56,50,65,45,75,100,134]},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.graphToShow,t={labels:["7:00 am","8:00 am","9:00 am","10:00 am","11:00 am","12:00 pm","1:00pm"],datasets:[{label:"Members",fill:!0,lineTension:.1,backgroundColor:"#b2dfdb",borderColor:"#b2dfdb",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.memberVisitToday},{label:"Visitors",fill:!0,lineTension:.1,backgroundColor:"#ffab91",borderColor:"#ffab91",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.visitorVisitToday}]},a={labels:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday"],datasets:[{label:"Members",fill:!0,lineTension:.1,backgroundColor:"#b2dfdb",borderColor:"#b2dfdb",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.memberVisitToday},{label:"Visitors",fill:!0,lineTension:.1,backgroundColor:"#ffab91",borderColor:"#ffab91",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.visitorVisitToday}]},n={labels:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],datasets:[{label:"Members",fill:!0,lineTension:.1,backgroundColor:"#b2dfdb",borderColor:"#b2dfdb",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.memberVisitThisMonth},{label:"Visitors",fill:!0,lineTension:.1,backgroundColor:"#ffab91",borderColor:"#ffab91",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.visitorVisitThisMonth}]},o={labels:["January","February","March","April","May","June","July","August","September","October"],datasets:[{label:"Members",fill:!0,lineTension:.1,backgroundColor:"#b2dfdb",borderColor:"#b2dfdb",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.memberVisitByMonth},{label:"Visitors",fill:!0,lineTension:.1,backgroundColor:"#ffab91",borderColor:"#ffab91",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:this.state.visitorVisitByMonth}]};return r.a.createElement("div",{className:"viewContainer"},r.a.createElement("select",{name:"graphToShow",onChange:this.handleChange},r.a.createElement("option",{value:"today"},"Today"),r.a.createElement("option",{value:"thisWeek"},"This Week"),r.a.createElement("option",{value:"thisMonth"}," This Month "),r.a.createElement("option",{value:"thisYear"},"This Year")),"today"===e&&r.a.createElement(qe.b,{id:"todayLine",data:t,options:{title:{display:!0,text:"Visits Today",fontSize:25},legend:{position:"top"},scales:{yAxes:[{stacked:!0}]}}}),"thisWeek"==e&&r.a.createElement(qe.b,{id:"weekLine",data:a,options:{title:{display:!0,text:"Visits this Week",fontSize:25},legend:{position:"top"},scales:{yAxes:[{stacked:!0}]}}}),"thisMonth"===e&&r.a.createElement(qe.b,{id:"monthLine",data:n,options:{title:{display:!0,text:"Visits This Month",fontSize:25},legend:{position:"top"},scales:{yAxes:[{stacked:!0}]}}}),"thisYear"===e&&r.a.createElement(qe.b,{id:"yearLine",data:o,options:{title:{display:!0,text:"Visits This Year",fontSize:25},legend:{position:"top"},scales:{yAxes:[{stacked:!0}]}}}))}}]),t}(n.Component),jt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getEventsMemberData=function(){console.log("in getEventsMemberData"),M()({method:"GET",url:"/api/admin/recentEventsData"}).then(function(t){console.log(t.data);for(var a=t.data,n=[],r=[],o=[],i=0;i<a.length;i++)o.push(a[i].day),n.push(a[i].member_count),r.push(a[i].visitor_count);e.setState({memberEventData:n,eventLabels:o,visitorEventData:r})}).catch(function(e){console.log(e,"Error event data for members",e),alert("Error getting event data for members")})},e.state={memberEventData:[],visitorEventData:[],eventLabels:[]},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getEventsMemberData()}},{key:"render",value:function(){var e={labels:this.state.eventLabels,datasets:[{label:"Members",backgroundColor:["#b2dfdb","#b2dfdb","#b2dfdb","#b2dfdb","#b2dfdb","#b2dfdb","#b2dfdb"],data:this.state.memberEventData},{label:"Visitors",backgroundColor:["#ffab91","#ffab91","#ffab91","#ffab91","#ffab91","#ffab91","#ffab91"],data:this.state.visitorEventData}]};return r.a.createElement("div",{className:"viewContainer"},r.a.createElement(qe.a,{data:e,options:{title:{display:!0,text:"Event Traffic",fontSize:25},legend:{position:"top"},scales:{xAxes:[{stacked:!0}],yAxes:[{stacked:!0}]}}}))}}]),t}(n.Component),Nt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).getVisitorPurposes=function(){console.log("in getVisitorPurposes"),M()({method:"GET",url:"/api/admin/visitorsPurpose"}).then(function(t){console.log(t.data);for(var a=0;a<t.data.length;a++)e.setState(Object(O.a)({},t.data[a].purpose,Number(t.data[a].count)))}).catch(function(e){console.log(e,"Error getting visitors' purposes"),alert("Visitors' purposes could't be obtained")})},e.state={tour:null,guest:null,event:null,other:null},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getVisitorPurposes()}},{key:"render",value:function(){var e={labels:["Tour","Guest","Event","Other"],datasets:[{data:[this.state.tour,this.state.guest,this.state.event,this.state.other],backgroundColor:["#DBB3B1","#526F73","#907F9F","#95A3B3"],hoverBackgroundColor:["#DBB3B1","#526F73","#907F9F","#95A3B3"]}]};return r.a.createElement("div",null,r.a.createElement(qe.c,{options:{title:{display:!0,text:"Visitors' Purpose in the Space",fontSize:25}},data:e}))}}]),t}(n.Component),_t=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"modalContent"},r.a.createElement("div",{className:"subColumnHalf"},r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(St,null)))),r.a.createElement("div",{className:"subColumnHalf"},r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:gt()("paper")},r.a.createElement(Ke,null))))),r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(xt,null))),r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(jt,null))),r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(Nt,null))))}}]),t}(n.Component),Mt=a(38),Rt=a.n(Mt),Dt=a(136),It=a.n(Dt),Bt=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(ee.a,null,r.a.createElement(ae.a,{variant:"dense"},r.a.createElement(re.a,{onClick:this.props.closeBar,className:e.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(It.a,null)),r.a.createElement(Rt.a,{variant:"h6",color:"inherit"},"Back"))))}}]),t}(n.Component),At=Object(ce.withStyles)({root:{flexGrow:1},menuButton:{marginLeft:-18,marginRight:10}})(Bt);var Vt=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:this.handleOpen},"More Data Visualization"),r.a.createElement(kt.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},r.a.createElement("div",{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:e.paper},r.a.createElement("div",null,r.a.createElement(At,{closeBar:this.handleClose})),r.a.createElement(_t,{closeAppBar:this.handleClose}))))}}]),t}(n.Component),Lt=Object(ce.withStyles)(function(e){return{paper:{position:"absolute",width:"80%",height:"80%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,overflow:"auto",overflowY:"scroll"}}})(Vt),Pt=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).setCurrentDeskContact=function(t){var a;console.log("in setCurrentDeskContact function"),e.setState((a={},Object(O.a)(a,t.target.name,t.target.value),Object(O.a)(a,t.target.name,t.target.value),a))},e.state={currentGuestCount:0,currentDeskContactPhone:"",currentDeskContactName:""},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"adminView"},r.a.createElement("div",{className:"masonry-layout"},r.a.createElement("div",{className:gt()("masonry-layout_column","leftColumn")},r.a.createElement("div",{className:gt()("masonry-layout_panel")},r.a.createElement(X.a,{className:gt()("paper","pieHolder")},r.a.createElement(Ke,null),r.a.createElement(Lt,null),r.a.createElement(pt,null))),r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(Je,null)))),r.a.createElement("div",{className:gt()("masonry-layout_column","centerColumn")},r.a.createElement("div",{className:"subColumnHalf"},r.a.createElement("div",{className:gt()("masonry-layout_panel")},r.a.createElement(X.a,{className:gt()("paper","middleTwo")},r.a.createElement(wt,null)))),r.a.createElement("div",{className:"subColumnHalf"},r.a.createElement("div",{className:gt()("masonry-layout_panel")},r.a.createElement(X.a,{className:gt()("paper","middleTwo")},r.a.createElement(Be,null)))),r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(Qe,null)))),r.a.createElement("div",{className:gt()("masonry-layout_column","rightColumn")},r.a.createElement("div",{className:"masonry-layout_panel"},r.a.createElement(X.a,{className:"paper"},r.a.createElement(mt,null))))))}}]),t}(n.Component),Ht=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e;return this.props.user.userName&&(e=r.a.createElement("div",null,r.a.createElement(we,{history:this.props.history}),r.a.createElement(Pt,null))),r.a.createElement("div",null,e)}}]),t}(n.Component),Ft=Object(l.b)(function(e){return{user:e.user}})(Ht),Ut=a(63),Gt=a.n(Ut),Wt=a(88),zt=a.n(Wt),Yt=a(138),Qt=a.n(Yt),Jt=a(141),qt=a.n(Jt),Kt=a(142),Xt=a.n(Kt),Zt=a(140),$t=a.n(Zt),ea=a(103),ta=a.n(ea),aa=a(139),na=a.n(aa),ra=a(137),oa=a.n(ra),ia=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).handleShowBtn=function(){console.log("YAY!!",e.state.open),e.setState({open:!0})},e.handleToggleClick=function(){e.setState(function(e){return{interest:!e.interest}})},e.handleVisit=function(t){e.setState({purpose:t})},e.handleInfo=function(t){var a;e.setState((a={},Object(O.a)(a,t.target.name,t.target.value),Object(O.a)(a,"day",ot()().format("L")),Object(O.a)(a,"time",ot()().format("LTS")),a))},e.handleClickAway=function(){e.setState({open:!1,purpose:null})},e.handlePost=function(){e.props.dispatch({type:"POST_VISITOR",payload:e.state}),e.handleMailChimp(),e.resetForm()},e.handleMailChimp=function(){if(!0===e.state.interest){var t=e.state.name.trim().split(" "),a=t[0],n=t[t.length-1],r={email_address:e.state.email,status:"subscribed",merge_fields:{FNAME:a,LNAME:n,PHONE:e.state.phone}};console.log("sending to mailchimp",r),e.props.dispatch({type:"ADD_MAILCHIMP",payload:r})}},e.resetForm=function(){e.setState(e.baseState)},e.handleAlignment=function(t,a){return e.setState({purpose:a})},e.state={name:"",purpose:null,interest:!1,day:null,time:null,email:"",phone:"",status:!0,open:!1},e.baseState=e.state,e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.purpose;return r.a.createElement(Gt.a,{item:!0,xs:6,sm:6,md:6,lg:6,className:e.root},r.a.createElement(oa.a,{onClickAway:this.handleClickAway},r.a.createElement(X.a,{className:e.container,style:{paddingTop:"10px"}},r.a.createElement("div",{style:{marginLeft:"25px",marginTop:"10px"}},r.a.createElement(Rt.a,{variant:"h3"},"Are you a Visitor?")),r.a.createElement("div",{style:{padding:"0 30px 0 30px"}},r.a.createElement(tt.a,null,r.a.createElement(nt.a,null,r.a.createElement(B.a,{style:{height:"94px"},id:"input-with-icon-textfield",label:"Full Name",name:"name",onChange:this.handleInfo,value:this.state.name,onFocus:this.handleShowBtn,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Qt.a,null))}})),r.a.createElement(Me.a,null)),r.a.createElement(na.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(tt.a,{component:"div",style:{marginLeft:"25px"}},r.a.createElement(ct.a,{inset:!0,secondary:"What brings you in today?"}),r.a.createElement("br",null),r.a.createElement(ta.a,{control:r.a.createElement(Ne.a,{value:t,exclusive:!0,onChange:this.handleAlignment,style:{padding:0,margin:"0 0 0 40px"}},r.a.createElement(xe.a,{value:"guest",style:{border:"1px solid darkgrey"}},"Guest"),r.a.createElement(xe.a,{value:"event",style:{border:"1px solid darkgrey"}},"Event"),r.a.createElement(xe.a,{value:"tour",style:{border:"1px solid darkgrey"}},"Tour"))}),r.a.createElement(Me.a,{style:{marginTop:"15px"}}),r.a.createElement("br",null),r.a.createElement(nt.a,{style:{marginTop:"10px"},divider:!0},r.a.createElement(ta.a,{control:r.a.createElement($t.a,{onClick:this.handleToggleClick}),label:"Are you interested in more information about membership options?"})),this.state.interest?r.a.createElement(nt.a,{divider:!0},r.a.createElement(B.a,{id:"filled-email-input",label:"Email Address",type:"email",name:"email",value:this.state.email,onChange:this.handleInfo,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(qt.a,null))}})):"",this.state.interest?r.a.createElement(nt.a,{divider:!0},r.a.createElement(B.a,{id:"filled-email-input",label:"Phone Number",name:"phone",type:"number",value:this.state.phone,onChange:this.handleInfo,InputProps:{startAdornment:r.a.createElement(zt.a,{position:"start"},r.a.createElement(Xt.a,null))}})):"",r.a.createElement(nt.a,null,r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handlePost,fullWidth:!0},"Submit"))))))))}}]),t}(n.Component),sa=Object(ce.withStyles)({root:{position:"relative",display:"flex",flexDirection:"column"},container:{position:"absolute",top:"40%",left:"40px",width:"500px",margin:"0 0 40px 0",minHeight:"190px"}})(ia),la=Object(l.b)(function(e){return{members:e.members}})(sa),ca=a(248),ua=a(143),ma=a.n(ua),da=a(93),pa=ke.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3}),ha=[];ha.map(function(e){return{value:e.label,label:e.label}});var ga=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).handleChange=function(t){return function(){var a=Object($e.a)(Ze.a.mark(function a(n){var r;return Ze.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.setState((r={},Object(O.a)(r,t,n),Object(O.a)(r,"day",ot()().format("L")),Object(O.a)(r,"time",ot()().format("LTS")),r));case 2:null===e.state.single||""===e.state.single?e.resetForm():(console.log(e.state.single.id),e.checkStatus(e.state.single.id),e.setState({open:!0}));case 3:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()},e.handleClose=function(){e.setState({open:!1}),e.resetForm()},e.handleVisit=function(t,a){return e.setState({purpose:a})},e.handlePut=function(){M.a.put("/api/memb",e.state).then(function(e){console.log("Member checked-out",e),pa.fire({text:"Checked Out successfully!",type:"success"})}).catch(function(e){console.log("You got an error"),pa.fire({type:"error",text:"Checkout Failed"})}),e.handleClose()},e.handlePost=function(){e.props.dispatch({type:"POST_MEMBER",payload:e.state}),e.handleClose()},e.resetForm=function(){e.setState(e.baseState),e.props.dispatch({type:"FETCH_MEMBERSLIST"})},e.state={single:"",purpose:"Work",day:null,time:null,checked_in:!0,open:!1},e.baseState=e.state,e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"FETCH_MEMBERS"}),M.a.get("/api/memb/list").then(function(e){e.data.map(function(e){return ha.push({label:r.a.createElement(nt.a,null,r.a.createElement(st.a,{style:{width:"60px",height:"60px"}},r.a.createElement("img",{className:"avatar",src:e.img_url}))," ",r.a.createElement(ct.a,{primary:e.name,secondary:e.company})),value:e.cobot_id+e.name,img_url:e.img_url,company:e.company,name:e.name,id:e.cobot_id}),ha})}),this.getCheckedIn(),this.props.dispatch({type:"FETCH_MEMBERSLIST"})}},{key:"getCheckedIn",value:function(){var e=this;M.a.get("/api/memb/checkedin").then(function(t){console.log(t.data),e.setState({membersCheckedIn:t.data})}).catch(function(e){console.log("error",e)})}},{key:"checkStatus",value:function(e){console.log("in selectedMember",e);var t=this.props.checkedMembers;console.log(t);var a=!0,n=!1,r=void 0;try{for(var o,i=t[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var s=o.value;if(console.log(s.cobot_id,e),s.cobot_id===e){this.setState({checked_in:!1});break}}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"render",value:function(){console.log("this is the array of checked in members:",this.props.checkedMembers,"this is the state: ",this.state);var e,t,a=this.props,n=a.classes,o=a.fullScreen,i=this.state.purpose;return console.log(this.state.checked_in),this.state.checked_in?(e=r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handlePost,textDense:!0,className:n.font},r.a.createElement(da.b,null),"Check-In"),t=r.a.createElement("div",null,r.a.createElement(Rt.a,{variant:"h4"},"Purpose:"),r.a.createElement(P.a,null,r.a.createElement("div",{className:n.toggleContainer},r.a.createElement(Ne.a,{value:i,exclusive:!0,onChange:this.handleVisit},r.a.createElement(xe.a,{value:"Work",className:n.button},"Work"===this.state.purpose?r.a.createElement(da.b,null):"","Work"),r.a.createElement(xe.a,{value:"Event",className:n.button},"Event"===this.state.purpose?r.a.createElement(da.b,null):"","Event")))))):(t=r.a.createElement("div",{className:n.checkoutContainer}),e=r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:this.handlePut,textDense:!0,className:n.font},r.a.createElement(da.b,null),"Checkout")),r.a.createElement(Gt.a,{item:!0,xs:6,sm:6,md:6,lg:6,className:n.root},r.a.createElement(X.a,{className:n.container,style:{paddingTop:"10px"}},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{style:{marginLeft:"25px",marginTop:"10px"}},r.a.createElement(Rt.a,{variant:"h3"},"Are you a Member?")),r.a.createElement("div",null,r.a.createElement(tt.a,{component:"nav"},r.a.createElement(nt.a,{divider:!0},r.a.createElement(ca.a,{className:"container",classNamePrefix:"input",isClearable:!0,noOptionsMessage:function(){return"Start by typing your name"},backspaceRemovesValue:!0,options:ha,value:this.state.single,onChange:this.handleChange("single"),placeholder:"Full Name"})),r.a.createElement("div",null,r.a.createElement(V.a,{fullScreen:o,onExit:this.resetForm,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"responsive-dialog-title"},r.a.createElement("div",{className:"dialogContainer"},r.a.createElement(F.a,null,r.a.createElement(re.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close",style:{position:"absolute",top:"0",right:"0",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",padding:"0"}},r.a.createElement(ma.a,{onClick:this.handleClose})),r.a.createElement(Rt.a,{variant:"h2",align:"center"},"Is this you?"),r.a.createElement(G.a,null,r.a.createElement("div",{className:n.rooot},r.a.createElement(nt.a,null,r.a.createElement(st.a,{style:{width:"150px",height:"150px"}},r.a.createElement("img",{className:"modolImg",src:this.state.single.img_url})),r.a.createElement(ct.a,{classes:{primary:n.listItemText,secondary:n.secondaryItemText},inset:!0,primary:this.state.single.name,secondary:this.state.single.company}))))),t,r.a.createElement("div",{className:n.font},e,r.a.createElement(D.a,{variant:"contained",color:"secondary",textDense:!0,fullwidth:!0,onClick:this.handleClose,className:n.font},r.a.createElement(da.a,null)," Back")))))))))))}}]),t}(n.Component),ba=Object(ce.withStyles)(function(e){return{root:{position:"relative",display:"flex",justify:"center",flexDirection:"column",alignItems:"center"},container:{position:"absolute",top:"40%",width:"500px"},toggleContainer:{display:"flex",alignItems:"center",justifyContent:"flex-start",margin:"".concat(e.spacing.unit,"px 0"),background:e.palette.background.default,size:"large"},button:{background:"white",borderRadius:3,color:"black",fontSize:40,height:"80px",width:"250px",webkitBoxShadow:"0px 6px 5px 1px rgba(0,0,0,0.75)",mozBoxShadow:"0px 6px 5px 1px rgba(0,0,0,0.75)",boxShadow:"0px 6px 5px 1px rgba(0,0,0,0.75)",border:"1px solid darkgrey"},rooot:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},listItemText:{fontSize:"2em"},secondaryItemText:{fontSize:"1.5em",display:"inline"},font:{fontSize:"2em",height:"100px",width:"500px",margin:"auto"},checkoutContainer:{height:"150px"}}})(ga),fa=Object(l.b)(function(e){return{user:e.user,checkedMembers:e.members}})(ba),Ea=function(e){function t(){var e;return Object(w.a)(this,t),(e=Object(k.a)(this,Object(S.a)(t).call(this))).componentDidMount=function(){e.getAdminInfo()},e.getAdminInfo=function(){M()({method:"get",url:"api/message/getTwilioSettings"}).then(function(t){console.log("current admin is: ",t.data[0]),void 0!==t.data[0]&&e.setState({currentAdmin:{admin_name:t.data[0].admin_name,phone_number:t.data[0].phone_number}})}).catch(function(e){console.log(e,"sendNotification didnt work")})},e.sendNotification=function(){switch(e.state.currentAdmin.phone_number){case 0:return void ke()("Sorry!","No admin on-call at this time.","error");default:ke()("Please Wait!","An admin will meet you at the front desk.","info"),e.sendNotification_axios()}},e.sendNotification_axios=function(){var t=e.state.currentAdmin.phone_number;M()({method:"post",url:"api/message/notifyTwilio/"+t}).then(function(e){}).catch(function(e){console.log(e,"sendNotification didnt work")})},e.state={currentAdmin:{admin_name:[],phone_number:[]}},e}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(ve.a,{title:"Click here to call an attendant to help you!"},r.a.createElement("div",{className:e.needHelpContainer},r.a.createElement("div",null,r.a.createElement(D.a,{className:e.buttons,variant:"contained",onClick:this.sendNotification,style:{marginBottom:"20px"}},r.a.createElement("div",{className:e.needHelpText,style:{color:"rgb(109, 109, 109)"}},"Need Help?"),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("svg",{height:"6em",viewBox:"-21 1 511 511.99998",width:"6em",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"m311.628906 435.773438c0 35.046874-23.644531 64.554687-55.839844 73.46875-6.488281 1.796874-13.320312 2.757812-20.375 2.757812-42.097656 0-76.226562-34.125-76.226562-76.226562l76.347656-39.234376zm0 0",fill:"#e58e13"}),r.a.createElement("path",{d:"m307.941406 459.285156c-7.847656 24.21875-27.492187 43.132813-52.152344 49.957032-15.503906-4.289063-29.023437-13.351563-38.875-25.503907-7.941406-9.800781-.777343-24.453125 11.835938-24.453125zm0 0",fill:"#f7d360"}),r.a.createElement("path",{d:"m432.210938 359.558594-163.761719 35.414062-229.84375-35.414062c18.035156 0 28.234375-9.433594 34.023437-25.078125 28.003906-75.523438-46.582031-295.632813 162.785156-295.632813 209.367188 0 134.769532 220.109375 162.773438 295.632813 5.800781 15.644531 15.996094 25.078125 34.023438 25.078125zm0 0",fill:"#f7d360"}),r.a.createElement("path",{d:"m470.316406 397.667969c0 21.042969-17.0625 38.105469-38.105468 38.105469h-393.605469c-10.519531 0-20.050781-4.261719-26.945313-11.160157-6.898437-6.894531-11.160156-16.425781-11.160156-26.945312 0-21.046875 17.0625-38.109375 38.105469-38.109375h393.605469c10.519531 0 20.050781 4.265625 26.945312 11.160156 6.898438 6.898438 11.160156 16.425781 11.160156 26.949219zm0 0",fill:"#e58e13"}),r.a.createElement("path",{d:"m398.1875 334.480469h-204.574219c-22.054687 0-39.691406-18.253907-39.007812-40.300781 2.882812-93.265626-11.992188-253.558594 79.277343-255.320313-250.535156 1.296875-90.382812 320.699219-195.269531 320.699219h393.597657c-18.027344 0-28.222657-9.433594-34.023438-25.078125zm0 0",fill:"#e58e13"}),r.a.createElement("path",{d:"m470.316406 397.667969c0 21.042969-17.0625 38.105469-38.105468 38.105469h-283.480469c-10.523438 0-20.054688-4.261719-26.949219-11.160157-6.894531-6.894531-11.160156-16.425781-11.160156-26.945312 0-21.046875 17.0625-38.109375 38.109375-38.109375h283.480469c10.519531 0 20.050781 4.265625 26.945312 11.160156 6.898438 6.898438 11.160156 16.425781 11.160156 26.949219zm0 0",fill:"#f7d360"}),r.a.createElement("path",{d:"m274.148438 41.765625c.082031-.960937.113281-1.933594.113281-2.917969 0-21.449218-17.394531-38.847656-38.847657-38.847656-21.460937 0-38.847656 17.398438-38.847656 38.847656 0 .984375.03125 1.957032.113282 2.917969",fill:"#e58e13"}),r.a.createElement("g",{fill:"#e6e6e6"},r.a.createElement("path",{d:"m424.613281 167.71875c-4.328125 0-7.835937-3.511719-7.835937-7.835938 0-36.269531-9.324219-67.222656-27.710938-92-13.726562-18.496093-27.683594-26.457031-27.820312-26.539062-3.765625-2.113281-5.121094-6.878906-3.019532-10.652344 2.101563-3.769531 6.84375-5.136718 10.621094-3.050781.667969.371094 16.535156 9.277344 32.25 30.160156 14.304688 19.007813 31.355469 52.148438 31.355469 102.082031 0 4.324219-3.511719 7.835938-7.839844 7.835938zm0 0"}),r.a.createElement("path",{d:"m459.09375 122.789062c-4.328125 0-7.835938-3.507812-7.835938-7.835937 0-50.023437-29.625-69.910156-30.886718-70.730469-3.613282-2.355468-4.660156-7.195312-2.328125-10.820312 2.335937-3.625 7.140625-4.695313 10.777343-2.378906 1.558594.988281 38.109376 24.929687 38.109376 83.929687 0 4.328125-3.507813 7.835937-7.835938 7.835937zm0 0"}),r.a.createElement("path",{d:"m46.203125 167.71875c-4.328125 0-7.835937-3.511719-7.835937-7.835938 0-49.933593 17.050781-83.074218 31.351562-102.082031 15.71875-20.882812 31.582031-29.792969 32.25-30.160156 3.789062-2.09375 8.558594-.71875 10.652344 3.070313 2.089844 3.78125.722656 8.539062-3.050782 10.636718-.308593.175782-14.171874 8.15625-27.816406 26.535156-18.390625 24.777344-27.710937 55.730469-27.710937 92-.003907 4.324219-3.511719 7.835938-7.839844 7.835938zm0 0"}),r.a.createElement("path",{d:"m11.722656 122.789062c-4.328125 0-7.835937-3.507812-7.835937-7.835937 0-59 36.554687-82.941406 38.109375-83.929687 3.652344-2.324219 8.496094-1.246094 10.820312 2.402343 2.316406 3.640625 1.253906 8.46875-2.375 10.796875-1.300781.851563-30.882812 20.746094-30.882812 70.730469 0 4.328125-3.507813 7.835937-7.835938 7.835937zm0 0"})))))))))}}]),t}(n.Component),va=Object(ce.withStyles)({buttons:{background:"rgba(0, 0, 0, 0.0)",borderRadius:3,border:0,padding:"10px",display:"block"},needHelpText:{fontSize:"1.5em",display:"block",textTransform:"capitalize"},needHelpContainer:{display:"flex",justifyContent:"center"}})(Ea),ya=function(e){function t(){return Object(w.a)(this,t),Object(k.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER})}},{key:"componentDidUpdate",value:function(){this.props.user.isLoading||null!==this.props.user.userName||this.props.history.push("/home")}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement("div",{style:{position:"fixed",top:"0%",width:"100%"}},r.a.createElement(we,{history:this.props.history}),r.a.createElement(Gt.a,{container:!0,className:e.masterGrid,spacing:0},r.a.createElement(la,null),r.a.createElement(fa,null))),r.a.createElement("div",{style:{position:"fixed",bottom:"0%",width:"100%"}},r.a.createElement(va,{className:e.notifyComponent})))}}]),t}(n.Component),Ca=Object(ce.withStyles)(function(e){return{masterGrid:{marginTop:"60px"},notify:{}}})(ya),Oa=Object(l.b)(function(e){return{user:e.user}})(Ca),wa=function(e){function t(e){var a;return Object(w.a)(this,t),(a=Object(k.a)(this,Object(S.a)(t).call(this,e))).handleInputChangeFor=function(e){return function(t){a.setState(Object(O.a)({},e,t.target.value))}},a.getInviteCode=function(){a.setState({code:window.location.href.slice(30)})},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a.setPassword=function(e){if(console.log("in setPassword"),e.preventDefault(),""===a.state.password)z()("Please enter a new password",{icon:"warning"});else if(""!==a.state.password&&""===a.state.confirmPassword)z()("Please Confirm Password",{icon:"warning"});else if(a.state.password!==a.state.confirmPassword)z()("Passwords Do not Match",{icon:"warning"});else{var t={password:a.state.password,token:a.state.code};M.a.put("/api/password/newpassword",t).then(function(e){200===e.status?(a.props.history.replace("/home"),z()("Password Reset Successful",{icon:"success"})):z()("Unable to reset password. Please Try again.",{icon:"warning"})}).catch(function(e){z()("Unable to reset password.",{icon:"warning"})})}},a.state={password:"",confirmPassword:"",code:"",showPassword:!1},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.getInviteCode()}},{key:"renderAlert",value:function(){return""!==this.props.login.message?r.a.createElement("h2",{className:"alert",role:"alert"},this.props.login.message):r.a.createElement("span",null)}},{key:"render",value:function(){return console.log(this.state.code),r.a.createElement("div",null,r.a.createElement("div",null,this.renderAlert(),r.a.createElement("form",{onSubmit:this.setPassword},r.a.createElement("h1",null,"Reset Password"),r.a.createElement(N.c,{container:!0},r.a.createElement(N.c,{item:!0,xs:12},r.a.createElement(N.b,{style:{width:"80%",marginBottom:"10px"}},r.a.createElement(N.d,{fullWidth:!0,id:"password",placeholder:"New Password",type:this.state.showPassword?"text":"password",onChange:this.handleInputChangeFor("password"),inputProps:{"aria-label":"password"},fullwidth:!0})),r.a.createElement("br",null),r.a.createElement(N.b,{style:{width:"80%"}},r.a.createElement(N.d,{fullWidth:!0,id:"password",placeholder:"New Password",type:this.state.showPassword?"text":"password",onChange:this.handleInputChangeFor("confirmPassword"),inputProps:{"aria-label":"Password"},fullwidth:!0}))),r.a.createElement(N.c,{item:!0,xs:12},r.a.createElement(N.a,{size:"small",variant:"contained",type:"submit",name:"submit",color:"primary",style:{margin:"20px"}},"Submit"),r.a.createElement(N.c,{item:!0,xs:12}))))))}}]),t}(n.Component),Ta=Object(l.b)(function(e){return{user:e.user,login:e.login}})(wa),ka=function(e){function t(){var e,a;Object(w.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(k.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){a.props.dispatch(h())},a}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:u.FETCH_USER})}},{key:"componentDidUpdate",value:function(){!this.props.user.isLoading&&this.props.user.userName}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{id:"welcome"},"Welcome, ",this.props.user.userName,"!"),r.a.createElement("button",{onClick:this.logout},"Log Out"))}}]),t}(n.Component),Sa=Object(l.b)(function(e){return{user:e.user}})(ka),xa=(a(5856),function(){return r.a.createElement("div",null,r.a.createElement(E.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(C.a,{path:"/home",component:q}),r.a.createElement(C.a,{path:"/register",component:Z}),r.a.createElement(C.a,{path:"/logout",component:Sa}),r.a.createElement(C.a,{path:"/admin",component:Ft}),r.a.createElement(C.a,{path:"/checkin",component:Oa}),r.a.createElement(C.a,{path:"/reset",component:Ta}),r.a.createElement(C.a,{render:function(){return r.a.createElement("h1",null,"404")}}))))}),ja=a(19);var Na=Ze.a.mark(Ma),_a=Ze.a.mark(Ra);function Ma(){var e;return Ze.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ja.c)({type:u.REQUEST_START});case 3:return t.next=5,M.a.get("api/user",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 5:return e=t.sent,t.next=8,Object(ja.c)({type:u.SET_USER,user:e});case 8:return t.next=10,Object(ja.c)({type:u.REQUEST_DONE});case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(0),t.next=16,Object(ja.c)({type:u.REQUEST_DONE});case 16:return t.next=18,Object(ja.c)({type:u.USER_FETCH_FAILED,message:t.t0.data||"FORBIDDEN"});case 18:case"end":return t.stop()}},Na,this,[[0,12]])}function Ra(){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ja.e)(u.FETCH_USER,Ma);case 2:case"end":return e.stop()}},_a,this)}var Da=Ra;function Ia(e){var t={username:e.username,password:e.password};return M.a.post("api/user/login",t,{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e})}var Ba=Ze.a.mark(La),Aa=Ze.a.mark(Pa),Va=Ze.a.mark(Ha);function La(e){return Ze.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ja.c)({type:d.CLEAR_LOGIN_ERROR});case 3:return t.next=5,Object(ja.c)({type:d.REQUEST_START});case 5:return t.next=7,Ia(e.payload);case 7:return t.next=9,Object(ja.c)({type:d.LOGIN_REQUEST_DONE});case 9:return t.next=11,Object(ja.c)({type:u.FETCH_USER});case 11:t.next=24;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(ja.c)({type:d.LOGIN_REQUEST_DONE});case 17:if(401!==t.t0.status){t.next=22;break}return t.next=20,Object(ja.c)({type:d.LOGIN_FAILED,message:t.t0.message});case 20:t.next=24;break;case 22:return t.next=24,Object(ja.c)({type:d.LOGIN_FAILED_NO_CODE,message:t.t0.message});case 24:case"end":return t.stop()}},Ba,this,[[0,13]])}function Pa(e){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get("api/user/logout",{headers:{"Content-Type":"application/json"},withCredentials:!0}).then(function(e){return e.data}).catch(function(e){throw e.response||e});case 3:return e.next=5,Object(ja.c)({type:u.UNSET_USER});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("LOGOUT FAILED -- CHECK YOUR SERVER",e.t0);case 10:case"end":return e.stop()}},Aa,this,[[0,7]])}function Ha(){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ja.e)(d.LOGIN,La);case 2:return e.next=4,Object(ja.e)(d.LOGOUT,Pa);case 4:case"end":return e.stop()}},Va,this)}var Fa=Ha,Ua=Ze.a.mark(Ja),Ga=Ze.a.mark(Za),Wa=Ze.a.mark($a),za=Ze.a.mark(en),Ya=Ze.a.mark(tn),Qa=Ze.a.mark(an);function Ja(){return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ja.a,e.t1=Da(),e.t2=Fa(),e.next=5,Object(ja.d)("POST_VISITOR",Za);case 5:return e.t3=e.sent,e.next=8,Object(ja.d)("FETCH_MEMBERS",en);case 8:return e.t4=e.sent,e.next=11,Object(ja.d)("FETCH_MEMBERSLIST",tn);case 11:return e.t5=e.sent,e.next=14,Object(ja.d)("POST_MEMBER",an);case 14:return e.t6=e.sent,e.next=17,Object(ja.d)("ADD_MAILCHIMP",$a);case 17:return e.t7=e.sent,e.t8=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7],e.next=21,(0,e.t0)(e.t8);case 21:case"end":return e.stop()}},Ua,this)}var qa=ke.a.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3}),Ka=function(){qa.fire({type:"success",title:"Signed in successfully"})},Xa=function(){qa.fire({type:"error",title:"Sign in unsuccessful",text:"Did you select your reason for visiting?"})};function Za(e){return Ze.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.payload),t.prev=1,t.next=4,Object(ja.b)(M.a.post,"/api/visi",e.payload);case 4:return t.next=6,Ka();case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Error",t.t0),Xa();case 12:case 13:case"end":return t.stop()}},Ga,this,[[1,8]])}function $a(e){return Ze.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.payload),t.prev=1,t.next=4,Object(ja.b)(M.a.post,"/api/mailChimp/addVisitor",e.payload);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("Error",t.t0);case 9:case 10:case"end":return t.stop()}},Wa,this,[[1,6]])}function en(e){var t;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ja.b)(M.a.get,"/api/memb");case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error",e.t0);case 10:case 11:case"end":return e.stop()}},za,this,[[0,7]])}function tn(e){var t,a;return Ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ja.b)(M.a.get,"/api/memb/checkedin");case 3:return t=e.sent,a={type:"SET_MEMBERLIST",payload:t.data},e.next=7,Object(ja.c)(a);case 7:console.log(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error",e.t0);case 13:case 14:case"end":return e.stop()}},Ya,this,[[0,10]])}function an(e){return Ze.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.payload),t.prev=1,t.next=4,Object(ja.b)(M.a.post,"/api/memb",e.payload);case 4:return t.next=6,Object(ja.c)({type:"FETCH_MEMBERLIST"});case 6:return t.next=8,Ka();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error",t.t0),Xa();case 14:case 15:case"end":return t.stop()}},Qa,this,[[1,10]])}var nn=a(244),rn=a.n(nn),on=a(245),sn=a.n(on),ln=[],cn=Object(c.a)();ln.push(cn);var un=Object(s.d)(f,{},s.a.apply(void 0,ln));cn.run(Ja);var mn=Object(ce.createMuiTheme)({typography:{useNextVariants:!0,fontFamily:[" Helvetica, Arial, sans-serif"]},palette:{primary:{main:rn.a[100],contrastText:"#455a64"},secondary:{main:sn.a[300],contrastText:"#455a64"}},shape:{borderRadius:4}});i.a.render(r.a.createElement(l.a,{store:un},r.a.createElement(ce.MuiThemeProvider,{theme:mn},r.a.createElement(xa,null))),document.getElementById("react-root"))}},[[5514,2,1]]]);
//# sourceMappingURL=main.2f4b8cd0.chunk.js.map